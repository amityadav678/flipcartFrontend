{"ast":null,"code":"import{useState}from'react';import{Button}from'@mui/material';import ControlPointIcon from'@mui/icons-material/ControlPoint';import RemoveCircleOutlineIcon from'@mui/icons-material/RemoveCircleOutline';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CartDetail=_ref=>{let{data,products,setProducts,CalculatePriceWhenQuantityChange}=_ref;const[productData,setProductData]=useState([data]);const[productQuantity,setProductQuantity]=useState(1);const fassured='https://static-assets-web.flixcart.com/www/linchpin/fk-cp-zion/img/fa_62673a.png';const handleDeleteProduct=async id=>{const filteredData=products.filter(product=>product._id!==id);setProducts(filteredData);var url=process.env.REACT_APP_BACKEND_URL;try{const response=await fetch(\"\".concat(url,\"/cart/\").concat(id),{method:'DELETE',headers:{Accept:'application/json','Content-Type':'application/json'}});if(!response.ok){throw new Error('Network response was not ok');}const result=await response.json();// Optionally, you can update the state or UI here if needed\n// For example, you can remove the deleted product from the list of products\n}catch(error){console.error('There was a problem with the fetch request:',error);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid white',paddingLeft:'20px',paddingRight:'20px',backgroundColor:'white'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-image\",children:/*#__PURE__*/_jsx(\"img\",{src:productData[0].url,style:{width:'auto'},alt:productData[0].title.shortTitle})}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-title\",children:productData[0].title.longTitle}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:fassured,style:{width:'60px'},alt:\"\"})}),\"\\xA0 \\xA0\",/*#__PURE__*/_jsxs(\"div\",{className:\"item-price\",style:{marginTop:'10px'},children:[/*#__PURE__*/_jsxs(\"span\",{className:\"item-cost\",children:[\"\\u20B9\",productData[0].price.cost]}),/*#__PURE__*/_jsxs(\"span\",{className:\"item-mrp\",children:[\"\\u20B9\",productData[0].price.mrp]}),/*#__PURE__*/_jsxs(\"span\",{className:\"item-discount\",children:[productData[0].price.discount,\" off\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-tagline\",children:productData[0].tagline}),\"\\xA0 \\xA0\"]})]},productData[0].id),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(RemoveCircleOutlineIcon,{style:{courser:'pointer'},onClick:()=>{if(productQuantity>1){setProductQuantity(productQuantity-1);CalculatePriceWhenQuantityChange(productData[0].price.cost,productData[0].price.mrp,productData[0].price.discount,'dec');}}}),\"\\xA0\",/*#__PURE__*/_jsx(\"input\",{style:{width:'40px',textAlign:'center',fontWeight:'bold'},type:\"text\",value:productQuantity,readOnly:true}),\"\\xA0\",/*#__PURE__*/_jsx(ControlPointIcon,{onClick:()=>{setProductQuantity(productQuantity+1);CalculatePriceWhenQuantityChange(productData[0].price.cost,productData[0].price.mrp,productData[0].price.discount,'inc');}})]}),\"\\xA0 \\xA0\",/*#__PURE__*/_jsx(Button,{style:{color:'black'},variant:\"text\",onClick:()=>{handleDeleteProduct(productData[0]._id);},children:\"SAVE FOR LATER\"}),\"\\xA0 \\xA0\",/*#__PURE__*/_jsx(Button,{style:{color:'black'},variant:\"text\",onClick:()=>{handleDeleteProduct(productData[0]._id);},children:\"REMOVE\"})]}),/*#__PURE__*/_jsx(\"hr\",{})]})});};export default CartDetail;","map":{"version":3,"names":["useState","Button","ControlPointIcon","RemoveCircleOutlineIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CartDetail","_ref","data","products","setProducts","CalculatePriceWhenQuantityChange","productData","setProductData","productQuantity","setProductQuantity","fassured","handleDeleteProduct","id","filteredData","filter","product","_id","url","process","env","REACT_APP_BACKEND_URL","response","fetch","concat","method","headers","Accept","ok","Error","result","json","error","console","children","style","border","paddingLeft","paddingRight","backgroundColor","className","src","width","alt","title","shortTitle","longTitle","marginTop","price","cost","mrp","discount","tagline","display","courser","onClick","textAlign","fontWeight","type","value","readOnly","color","variant"],"sources":["C:/Users/91788/Desktop/flipcart/my-flipkart-project/frontend/src/Componants/AddToCart/CartDetail.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { Button } from '@mui/material';\r\nimport ControlPointIcon from '@mui/icons-material/ControlPoint';\r\nimport RemoveCircleOutlineIcon from '@mui/icons-material/RemoveCircleOutline';\r\n\r\nconst CartDetail = ({\r\n    data,\r\n    products,\r\n    setProducts,\r\n    CalculatePriceWhenQuantityChange,\r\n}) => {\r\n    const [productData, setProductData] = useState([data]);\r\n\r\n    const [productQuantity, setProductQuantity] = useState(1);\r\n    const fassured =\r\n        'https://static-assets-web.flixcart.com/www/linchpin/fk-cp-zion/img/fa_62673a.png';\r\n\r\n    const handleDeleteProduct = async (id) => {\r\n        const filteredData = products.filter((product) => product._id !== id);\r\n        setProducts(filteredData);\r\n\r\n        var url = process.env.REACT_APP_BACKEND_URL;\r\n        try {\r\n            const response = await fetch(`${url}/cart/${id}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    Accept: 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n\r\n            const result = await response.json();\r\n\r\n            // Optionally, you can update the state or UI here if needed\r\n            // For example, you can remove the deleted product from the list of products\r\n        } catch (error) {\r\n            console.error('There was a problem with the fetch request:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                style={{\r\n                    border: '1px solid white',\r\n                    paddingLeft: '20px',\r\n                    paddingRight: '20px',\r\n                    backgroundColor: 'white',\r\n                }}\r\n            >\r\n                <div key={productData[0].id} className=\"order-item\">\r\n                    <div className=\"item-image\">\r\n                        <img\r\n                            src={productData[0].url}\r\n                            style={{ width: 'auto' }}\r\n                            alt={productData[0].title.shortTitle}\r\n                        />\r\n                    </div>\r\n                    <div className=\"item-details\">\r\n                        <div className=\"item-title\">\r\n                            {productData[0].title.longTitle}\r\n                        </div>\r\n                        <span>\r\n                            <img\r\n                                src={fassured}\r\n                                style={{\r\n                                    width: '60px',\r\n                                }}\r\n                                alt=\"\"\r\n                            />\r\n                        </span>\r\n                        &nbsp; &nbsp;\r\n                        <div\r\n                            className=\"item-price\"\r\n                            style={{ marginTop: '10px' }}\r\n                        >\r\n                            <span className=\"item-cost\">\r\n                                ₹{productData[0].price.cost}\r\n                            </span>\r\n                            <span className=\"item-mrp\">\r\n                                ₹{productData[0].price.mrp}\r\n                            </span>\r\n                            <span className=\"item-discount\">\r\n                                {productData[0].price.discount} off\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"item-tagline\">\r\n                            {productData[0].tagline}\r\n                        </div>\r\n                        &nbsp; &nbsp;\r\n                    </div>\r\n                </div>\r\n                <div style={{ display: 'flex' }}>\r\n                    <div>\r\n                        <RemoveCircleOutlineIcon\r\n                            style={{ courser: 'pointer' }}\r\n                            onClick={() => {\r\n                                if (productQuantity > 1) {\r\n                                    setProductQuantity(productQuantity - 1);\r\n                                    CalculatePriceWhenQuantityChange(\r\n                                        productData[0].price.cost,\r\n                                        productData[0].price.mrp,\r\n                                        productData[0].price.discount,\r\n                                        'dec'\r\n                                    );\r\n                                }\r\n                            }}\r\n                        />\r\n                        &nbsp;\r\n                        <input\r\n                            style={{\r\n                                width: '40px',\r\n                                textAlign: 'center',\r\n                                fontWeight: 'bold',\r\n                            }}\r\n                            type=\"text\"\r\n                            value={productQuantity}\r\n                            readOnly\r\n                        />\r\n                        &nbsp;\r\n                        <ControlPointIcon\r\n                            onClick={() => {\r\n                                setProductQuantity(productQuantity + 1);\r\n                                CalculatePriceWhenQuantityChange(\r\n                                    productData[0].price.cost,\r\n                                    productData[0].price.mrp,\r\n                                    productData[0].price.discount,\r\n                                    'inc'\r\n                                );\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    &nbsp; &nbsp;\r\n                    <Button\r\n                        style={{ color: 'black' }}\r\n                        variant=\"text\"\r\n                        onClick={() => {\r\n                            handleDeleteProduct(productData[0]._id);\r\n                        }}\r\n                    >\r\n                        SAVE FOR LATER\r\n                    </Button>\r\n                    &nbsp; &nbsp;\r\n                    <Button\r\n                        style={{ color: 'black' }}\r\n                        variant=\"text\"\r\n                        onClick={() => {\r\n                            handleDeleteProduct(productData[0]._id);\r\n                        }}\r\n                    >\r\n                        REMOVE\r\n                    </Button>\r\n                </div>\r\n                <hr />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CartDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}